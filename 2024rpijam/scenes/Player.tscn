[gd_scene load_steps=9 format=3 uid="uid://opg6o12fn0h8"]

[ext_resource type="Script" path="res://scripts/Player.cs" id="1_mtpqr"]
[ext_resource type="Texture2D" uid="uid://s5qi7c11dq8i" path="res://sprites/the_fellow.png" id="2_iqj2m"]
[ext_resource type="PackedScene" uid="uid://bigo0ycn36e4o" path="res://scenes/UI/HealthNumber.tscn" id="3_8ndyp"]
[ext_resource type="Texture2D" uid="uid://c1mf1akynd0o" path="res://sprites/icon.svg" id="4_h8oin"]
[ext_resource type="PackedScene" uid="uid://bjtgjya1uxanx" path="res://scenes/UI/HealthBar.tscn" id="5_13q3s"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bhci7"]
size = Vector2(15, 28)

[sub_resource type="CircleShape2D" id="CircleShape2D_2a8op"]
radius = 38.2099

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h7pwq"]
size = Vector2(8, 80)

[node name="Player" type="CharacterBody2D"]
z_index = 50
collision_layer = 6
script = ExtResource("1_mtpqr")

[node name="Icon" type="Sprite2D" parent="."]
position = Vector2(9.53674e-07, 0)
scale = Vector2(3, 3)
texture = ExtResource("2_iqj2m")
hframes = 9
frame = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
scale = Vector2(3, 4)
shape = SubResource("RectangleShape2D_bhci7")

[node name="camera" type="Camera2D" parent="."]

[node name="Control" type="Control" parent="camera"]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -960.0
offset_top = -540.0
offset_right = 960.0
offset_bottom = 540.0
grow_horizontal = 2
grow_vertical = 2

[node name="HealthNumber" parent="camera/Control" node_paths=PackedStringArray("player") instance=ExtResource("3_8ndyp")]
layout_mode = 0
player = NodePath("../../..")

[node name="HealthBar" parent="camera/Control" node_paths=PackedStringArray("player") instance=ExtResource("5_13q3s")]
position = Vector2(271, 92)
scale = Vector2(38, 38)
player = NodePath("../../..")

[node name="hitbox" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="hitbox"]
position = Vector2(47, -26)
shape = SubResource("CircleShape2D_2a8op")

[node name="hit" type="Sprite2D" parent="hitbox"]
position = Vector2(48.5, -25.25)
scale = Vector2(0.476563, 0.433594)
texture = ExtResource("4_h8oin")

[node name="wallBox" type="Area2D" parent="."]
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="wallBox"]
position = Vector2(30, 0)
shape = SubResource("RectangleShape2D_h7pwq")

[node name="hitTimer" type="Timer" parent="."]

[node name="dashCoolTimer" type="Timer" parent="."]
one_shot = true

[connection signal="timeout" from="hitTimer" to="." method="resetAttackCooldown"]
[connection signal="timeout" from="dashCoolTimer" to="." method="resetDash"]
